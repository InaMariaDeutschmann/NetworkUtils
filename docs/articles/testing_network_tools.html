<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Testing Network Inference Tools â€¢ NetworkUtils</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">NetworkUtils</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/environmental-factors.html">Evaluating the effect of environmental factors on network inference</a>
    </li>
    <li>
      <a href="../articles/hub-species.html">Identifying hub species</a>
    </li>
    <li>
      <a href="../articles/testing_network_tools.html">Testing Network Inference Tools</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ramellose/NetworkUtils">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Testing Network Inference Tools</h1>
                        <h4 class="author">Lisa Rottjers</h4>
            
            <h4 class="date">2018-05-02</h4>
          </div>

    
    
<div class="contents">
<div id="creating-a-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-a-dataset" class="anchor"></a>Creating a dataset</h2>
<p>To test network inference tools, we first need to build a synthetic dataset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(seqtime)
n =<span class="st"> </span><span class="dv">2</span>
x =<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from=</span><span class="dv">0</span>, <span class="dt">to=</span><span class="fl">0.8</span>, <span class="dt">by=</span><span class="fl">0.4</span>)
set =<span class="st"> "_env"</span>
klemm =<span class="st"> </span>NetworkUtils<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/NetworkUtils/topics/generateKlemms">generateKlemms</a></span>(<span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">10</span>, <span class="fl">0.05</span>)
klemms =<span class="st"> </span>allklemm[[<span class="dv">1</span>]]
klemmadj =<span class="st"> </span>allklemm[[<span class="dv">2</span>]]
envdata =<span class="st"> </span><span class="kw"><a href="../reference/generateSets.html">generateSets</a></span>(<span class="dt">n=</span>n, <span class="dt">klemms=</span>klemms, <span class="dt">species=</span><span class="dv">100</span>, <span class="dt">samples=</span><span class="dv">80</span>, <span class="dt">x=</span>x, <span class="dt">mode=</span><span class="st">"env"</span>, <span class="dt">name=</span>set)</code></pre></div>
</div>
<div id="writing-the-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#writing-the-dataset" class="anchor"></a>Writing the dataset</h2>
<p>We can now use network inference tools to reconstruct networks from the original dataset. As we decided to run SparCC and CoNet from the original command line implementations, we first need to write .txt files from the networks. We can analyse these networks with a Bash script.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/writeSets.html">writeSets</a></span>(n, x, envdata)
<span class="kw"><a href="../reference/writeFeatures.html">writeFeatures</a></span>(n, x, edges)</code></pre></div>
</div>
<div id="running-network-inference" class="section level2">
<h2 class="hasAnchor">
<a href="#running-network-inference" class="anchor"></a>Running network inference</h2>
<p>For the tools available through R, we made a little convenience wrapper (callTools). This wrapper runs network inference for all your datasets with all chosen tools, and performs the analysis. CoNet and SparCC require a little parsing with readCoNet and readSpar (not shown).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/callTools.html">callTools</a></span>(envdata, klemmadj, <span class="dt">toolnames=</span><span class="kw">c</span>(<span class="st">"SpiecEasi GL"</span>, <span class="st">"SpiecEasi MB"</span>, <span class="st">"gCoda"</span>, <span class="st">"Spearman"</span>), set, x, n, <span class="dt">absolute =</span> <span class="ot">TRUE</span>, <span class="dt">mode=</span><span class="st">"env"</span>)</code></pre></div>
<p>The final steps make use of the analysis functions in NetworkUtils. plotSeries and plotPrecisionvsRecall help plot network properties, while we can calculate hub species with analyseHubs and plot overlaps with plotSuperSet.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#creating-a-dataset">Creating a dataset</a></li>
      <li><a href="#writing-the-dataset">Writing the dataset</a></li>
      <li><a href="#running-network-inference">Running network inference</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Lisa Rottjers.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
